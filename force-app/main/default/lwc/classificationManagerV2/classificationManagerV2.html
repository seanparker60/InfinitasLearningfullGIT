<template>
    <div class="container">

        <div class="spinnerHolder" style="position: relative;">
            <Template if:true={resultContainer}>
                <Template if:true={loading}>
                    <lightning-spinner variant="brand" size="medium" alternative-text="Loading"></lightning-spinner>
                </Template>
            </Template>

            <Template if:true={results}>
                <!-- Modal/Popup Box LWC starts here -->
                <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <!-- Modal/Popup Box LWC header here -->
                        <header class="slds-modal__header">
                            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={done}>
                                <lightning-icon icon-name="utility:close"
                                    alternative-text="close"
                                    variant="inverse"
                                    size="small" ></lightning-icon>
                                <span class="slds-assistive-text">Close</span>
                            </button>
                            <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate"><b class={titleClass}>{finalTitle}</b></h2>
                        </header>
                        <!-- Modal/Popup Box LWC body starts here -->
                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                            <p style="font-size: 16px;">{insertResult}</p>
                        </div>
                        <!-- Modal/Popup Box LWC footer starts here -->
                        <footer class="slds-modal__footer">
                            <button class="slds-button slds-button_brand" onclick={done} title="Done">Done</button>
                        </footer>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open"></div>
            </Template>

            <div class="card">
                <!-- title start -->
                <div class="titleContainer">
                    
                    <div class="title">
                        <div class="icon">
                            <lightning-icon icon-name="custom:custom53" alternative-text="Classifications" title="Classifications" class="icon-small"></lightning-icon>
                        </div>
                        <div class="titleText">
                            <h1>Create {objectApiName} Classification</h1>
                        </div>
                    </div>
                </div>

                <!-- content start -->
                <!-- filters start -->
                <div class="contentDiv slds-grid slds-wrap">
                    <div class="inputContainerDiv slds-form_horizontal slds-size_8-of-8">
                        <lightning-combobox name="ClassificationAttribute" 
                                            label="Type" 
                                            value={value} 
                                            options={classificationOptions} 
                                            onchange={handleAttributeChange} 
                                            placeholder="Please select an Attribute">
                        </lightning-combobox>
                    </div>

                    <template if:true={Value2Div}>
                        <div class="inputContainerDiv slds-form_horizontal slds-size_8-of-8">
                            <lightning-combobox
                                name="ClassificationAttributeValue"
                                label="Value"
                                placeholder="Please select an Attribute Value"
                                value={value2}
                                onchange={handleValueChange}
                                options={classificationAttributeValueOptions}>
                            </lightning-combobox>
                        </div>
                    </template>

                    <Template if:true={Value3Div}>
                        <div class="inputContainerDiv slds-form_horizontal slds-size_8-of-8">
                            <lightning-combobox
                                name="ClassificationAttributeValue2"
                                label="Value"
                                placeholder="Please select an Attribute Value"
                                value={value3}
                                onchange={handleValue2Change}
                                options={classificationAttributeValue2Options}>
                            </lightning-combobox>
                        </div>
                    </Template>

                    <Template if:true={Value4Div}>
                        <div class="inputContainerDiv slds-form_horizontal slds-size_8-of-8">
                            <lightning-combobox
                                name="ClassificationAttributeValue3"
                                label="Value"
                                placeholder="Please select an Attribute Value"
                                value={value4}
                                onchange={handleValue3Change}
                                options={classificationAttributeValue3Options}>
                            </lightning-combobox>
                        </div>
                    </Template>

                    <Template if:true={Value5Div}>
                        <div class="inputContainerDiv slds-form_horizontal slds-size_8-of-8">
                            <lightning-combobox
                                name="ClassificationAttributeValue4"
                                label="Value"
                                placeholder="Please select an Attribute Value"
                                value={value5}
                                onchange={handleValue4Change}
                                options={classificationAttributeValue3Options}>
                            </lightning-combobox>
                        </div>
                    </Template>


                    <template if:true={yearInputVis}>
                        <div class="inputYearGradeContainerDiv slds-form_horizontal slds-size_8-of-8 slds-grid slds-wrap">
                            <div class="year slds-size_1-of-2">
                                <lightning-input id="yearInput" label="Year" type="number" value="" placeholder="Year" onchange={handleYearChange} max-length="2" 
                                field-level-help="Please enter the last 2 digits of the classification year"></lightning-input>
                            </div>

                            <div class="grade slds-size_1-of-2">
                                <lightning-input id="gradeInput" label="Grade" type="number" value="" placeholder="Grade" onchange={handleGradeChange} max-length="2"></lightning-input>
                            </div>
                        </div>
                    </template>

                    <template if:true={studentNrInputVis}>
                        <div class="inputStudentContainerDiv slds-form_horizontal slds-size_8-of-8 slds-grid slds-wrap">
                            <div class="studentNumbers slds-size_1-of-2">
                                <lightning-input id="studentsNumbersInput" label="# Students" type="number" value="" placeholder="Number of Students" onchange={handleStudentNumberChange}></lightning-input>
                            </div>
                            <div class="emptyDiv slds-size_1-of-2">
                            </div>
                        </div>
                    </template>

                    <div class="btnCreateClassificationContainer slds-size_8-of-8">
                        <template if:true={btnCreateClassificationVis}>
                            <div class="btnCreateClassification">
                                <lightning-button 
                                    variant="brand"    
                                    label="Create Classification" 
                                    title="Create Classification"
                                    onclick={createCustomDetail}>
                                </lightning-button>
                            </div>
                        </template>
                    </div>
                </div>

            </div><!--div:card-->
        </div><!--div:spinner-->
    </div><!--div:container-->
</template>